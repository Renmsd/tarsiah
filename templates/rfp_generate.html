<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ูุฑุงุฌุนุฉ ูุชูููุฏ ุงููุซููุฉ | Smart RFP AI</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='generate.css') }}">
  <link href="https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css" rel="stylesheet">
</head>

<body>
  <!-- ๐น ุงูููุฏุฑ -->
  <header class="topbar">
    <div class="topbar-right">
      <a href="/" class="logo">Smart RFP AI</a>
    </div>

    <nav class="topbar-center">
      <a href="/" id="nav-home">ุงูุฑุฆูุณูุฉ</a>
      <a href="/rfp_input" class="active" id="nav-generate">ุฅูุดุงุก RFP</a>
      <a href="/comparison" id="nav-compare">ููุงุฑูุฉ ุงูุนุฑูุถ</a>
    </nav>
  </header>

  <main>
    <div class="container">
      <h2>ูุฑุงุฌุนุฉ ูุชุนุฏูู ุงูููู ุงููููุฏุฉ ูุจู ุฅูุดุงุก RFP ุงูููุงุฆูุฉ</h2>

      <form action="/save" method="post">

        <!-- ================= ุงููุณู ุงูุฃูู: ุงูุชูุงุฑูุฎ ูุงูุฅุฌุฑุงุกุงุช ================= -->
        <div class="form-step active">
          <h3>ุงูุชูุงุฑูุฎ ูุงูุฅุฌุฑุงุกุงุช</h3>
          <p class="section-note">ูุฑุฌู ูุฑุงุฌุนุฉ ุงูุชูุงุฑูุฎ ุงููููุฏุฉ ุชููุงุฆููุง ูุจู ุงููุชุงุจุนุฉ.</p>

          <table class="dates-table">
            <thead>
              <tr><th>ุงูุฅุฌุฑุงุก</th><th>ุงูุชุงุฑูุฎ</th></tr>
            </thead>
            <tbody>
              <tr>
                <td>ุชุงุฑูุฎ ุงูุฅุตุฏุงุฑ</td>
                <td><input type="text" name="Issue_Date" value="{{ decisions.get('Issue_Date', {}).get('value', '') }}"></td>
              </tr>
              <tr>
                <td>ุชุฃููุฏ ุงููุดุงุฑูุฉ</td>
                <td><input type="text" name="Participation_Confirmation_Letter" value="{{ decisions.get('Participation_Confirmation_Letter', {}).get('value', '') }}"></td>
              </tr>
              <tr>
                <td>ุฅุฑุณุงู ุงูุฃุณุฆูุฉ ูุงูุงุณุชูุณุงุฑุงุช</td>
                <td><input type="text" name="Submission_of_Questions_and_Inquiries" value="{{ decisions.get('Submission_of_Questions_and_Inquiries', {}).get('value', '') }}"></td>
              </tr>
              <tr>
                <td>ุชูุฏูู ุงูุนุฑูุถ</td>
                <td><input type="text" name="Submission_of_Proposals" value="{{ decisions.get('Submission_of_Proposals', {}).get('value', '') }}"></td>
              </tr>
              <tr>
                <td>ูุชุญ ุงูุนุฑูุถ</td>
                <td><input type="text" name="Opening_of_Proposals" value="{{ decisions.get('Opening_of_Proposals', {}).get('value', '') }}"></td>
              </tr>
              <tr>
                <td>ุงูุชุฑุณูุฉ</td>
                <td><input type="text" name="Award_Decision_Date" value="{{ decisions.get('Award_Decision_Date', {}).get('value', '') }}"></td>
              </tr>
              <tr>
                <td>ุจุฏุก ุงูุฃุนูุงู</td>
                <td><input type="text" name="Commencement_of_Work" value="{{ decisions.get('Commencement_of_Work', {}).get('value', '') }}"></td>
              </tr>
            </tbody>
          </table>


          <div class="buttons">
            <button type="button" class="nextBtn">ุงูุชุงูู</button>
          </div>
        </div>

        <!-- ================= ุงููุณู ุงูุซุงูู: ุงูููุฏูุฉ ================= -->
        <div class="form-step">
          <h3>ุงูููุฏูุฉ</h3>

          <label>ุชุนุฑูู ุงูููุงูุณุฉ</label>
          <textarea name="Competition_Definition" rows="4">{{ decisions.get('Competition_Definition', {}).get('value', '') }}</textarea>

          <label>ูุทุงู ุงูุนูู</label>
          <textarea name="Project_Scope_of_Work" rows="4">{{ decisions.get('Project_Scope_of_Work', {}).get('value', '') }}</textarea>

          <label>ููููุฉ ุชูููุฐ ุงูุฎุฏูุงุช</label>
          <textarea name="Service_Execution_Method" rows="4">{{ decisions.get('Service_Execution_Method', {}).get('value', '') }}</textarea>
          <label>ุฎุทุฉ ุชูุฏูู ุงูุฎุฏูุงุช</label>
          <textarea name="Service_Delivery_Plan" rows="4">{{ decisions.get('Service_Delivery_Plan', {}).get('value', '') }}</textarea>

          <div class="buttons">
            <button type="button" class="prevBtn btn-secondary">ุงูุณุงุจู</button>
            <button type="button" class="nextBtn">ุงูุชุงูู</button>
          </div>
        </div>

        <!-- ================= ุงููุณู ุงูุซุงูุซ: ุงููุชุทูุจุงุช ุงููููุฉ ================= -->
        <div class="form-step">
          <h3>ุงููุชุทูุจุงุช ุงููููุฉ</h3>

          <label>ุงูุนุฑุถ ุงูููู</label>
          <textarea name="Technical_Proposal_Documents" rows="4">{{ decisions.get('Technical_Proposal_Documents', {}).get('value', '') }}</textarea>

          <label>ุงูุนุฑุถ ุงููุงูู</label>
          <textarea name="Financial_Proposal_Documents" rows="4">{{ decisions.get('Financial_Proposal_Documents', {}).get('value', '') }}</textarea>

          <label>ูุนุงููุฑ ุงูุชูููู</label>
          <textarea name="Bid_Evaluation_Criteria" rows="4">{{ decisions.get('Bid_Evaluation_Criteria', {}).get('value', '') }}</textarea>

          <label>ุงูุณุฌูุงุช ูุงูุชุฑุงุฎูุต</label>
          <textarea name="Regulatory_Records_and_Licenses" rows="4">{{ decisions.get('Regulatory_Records_and_Licenses', {}).get('value', '') }}</textarea>

          <label>ุชุฌุฒุฆุฉ ุงูููุงูุณุฉ</label>
          <textarea name="Tender_Split_Section" rows="4">{{ decisions.get('Tender_Split_Section', {}).get('value', '') }}</textarea>

          <div class="buttons">
            <button type="button" class="prevBtn btn-secondary">ุงูุณุงุจู</button>
            <button type="button" class="nextBtn">ุงูุชุงูู</button>
          </div>
        </div>

        <!-- ================= ุงููุณู ุงูุฑุงุจุน: ุงูุดุฑูุท ูุงูุบุฑุงูุงุช ================= -->
        <div class="form-step">
          <h3>ุงูุดุฑูุท ูุงูุบุฑุงูุงุช</h3>

          <label>ุงูุบุฑุงูุงุช</label>
          <textarea name="Penalties" rows="4">{{ decisions.get('Penalties', {}).get('value', '') }}</textarea>

          <label>ุบุฑุงูุงุช ุงูุชุฃุฎูุฑ</label>
          <textarea name="Delay_Penalties" rows="4">{{ decisions.get('Delay_Penalties', {}).get('value', '') }}</textarea>

          <label>ุงูุชุฃููู</label>
          <textarea name="Insurance" rows="4">{{ decisions.get('Insurance', {}).get('value', '') }}</textarea>

          <label>ุงูุชุญุงูู ุงููุดุชุฑู</label>
          <textarea name="Joint_Venture" rows="4">{{ decisions.get('Joint_Venture', {}).get('value', '') }}</textarea>

          <div class="buttons">
            <button type="button" class="prevBtn btn-secondary">ุงูุณุงุจู</button>
            <button type="submit" id="saveBtn" class="generate-btn">ุญูุธ ูุฅูุดุงุก ุงููุซููุฉ</button>
            <p id="waitMsg" class="loading-msg" style="display:none;">ูุชู ุงูุขู ุฅูุดุงุก ุงููุซููุฉ <span id="dots"></span></p>
          </div>
        </div>

        <!-- โ ุฅุฎูุงุก ุจูุงูุงุช ุงููุณุชุฎุฏู ุงูุฃุตููุฉ -->
        {% for key, value in user_data.items() %}
          <input type="hidden" name="{{ key }}" value="{{ value }}">
        {% endfor %}
      </form>
    </div>
  </main>

  <script src="{{ url_for('static', filename='generate.js') }}"></script>
</body>
</html>
